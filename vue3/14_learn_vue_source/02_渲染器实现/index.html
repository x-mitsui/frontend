<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id='app'>

  </div>
  <script src="./render.js"></script>
  <script>
    // 1.通过h函数来创建一个vnode,而此处的vnode是一个树结构，这就是虚拟dom
    const vnode = h('div', { class: "aaa" }, [
      h("h2", null, "你好呀"),
      h("button", {
        onClick: function () {
          console.log("打印~~~~")
        }
      }, "按钮")
    ])
    console.log(vnode);
    // 2.通过mount函数将vdom挂载到div#app上
    mountVnode(vnode, document.getElementById("app"));
    // 3.创建一个新的vnode


    // 测试1：直接改变类型
    // setTimeout(() => {
    //   patch(vnode, h("h2", null, "测试一"))
    // }, 2000);

    // 测试2: 改变属性
    // setTimeout(() => {
    //   patch(vnode, h("div", { class: 'bbb' }, "测试一"))
    // }, 2000);

    // 测试3：改变children，length变小
    setTimeout(() => {
      patch(vnode, h("div", { class: 'aaa' }, [
        h("h2", null, "你好呀")]))
    }, 2000);

    // 测试4：改变children，length变大
    // setTimeout(() => {
    //   patch(vnode, h("div", { class: 'aaa' }, [
    //     h("h2", null, "你好呀"),
    //     h("button", {
    //       onClick: function () {
    //         console.log("打印~~~~")
    //       },
    //     }, "按钮"),
    //     h("h2", null, "你好呀")
    //   ]))
    // }, 2000);
  </script>
</body>

</html>